<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KB Pure Breath</title>
  <meta name="description" content="KB Pure Breath - Live Air Quality & Resources" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <style>
    :root{
      --bg:#f6fbff;
      --accent1:#2bb6b6;
      --accent2:#4aa0e6;
      --muted:#6b7280;
      --card:#ffffff;
      --glass: rgba(255,255,255,0.75);
      --maxwidth:1100px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,Poppins,sans-serif;line-height:1.45;background:var(--bg);color:#0f172a;padding-bottom:120px;}
    a{text-decoration:none;color:var(--accent2);}
    .hero{
      width:100%;min-height:320px;display:flex;align-items:center;justify-content:center;
      background-image:url('https://us.images.westend61.de/0001599644pw/malaysia-kuala-lumpur-clouds-over-klcc-park-and-petronas-towers-EAF00105.jpg');
      background-size:cover;background-position:center;position:relative;color:#fff;
    }
    .hero::before{content:"";position:absolute;inset:0;background: linear-gradient(180deg, rgba(6,21,34,0.6), rgba(6,21,34,0.35));pointer-events:none;}
    .container{width:95%;max-width:var(--maxwidth);margin:0 auto;position:relative;z-index:2;padding:28px 0;}
    .hero-inner{display:flex;gap:20px;align-items:center;justify-content:space-between;width:100%;}
    .brand{display:flex;gap:16px;align-items:center;}
    .logo{width:96px;height:96px;border-radius:12px;background:rgba(255,255,255,0.12);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:22px;}
    .brand h1{margin:0;font-size:28px;font-weight:600}
    .brand p{margin:0;font-size:14px;color:rgba(255,255,255,0.9)}
    nav{display:flex;gap:12px;align-items:center;margin-left:auto}
    nav a{color:rgba(255,255,255,0.95);padding:8px 12px;border-radius:8px;font-weight:500}
    nav a:hover{background:rgba(255,255,255,0.06)}

    main{margin-top:-36px}
    .card-row{display:grid;grid-template-columns:1fr 320px;gap:18px;max-width:var(--maxwidth);margin:18px auto;padding:18px;}
    .card{background:var(--card);border-radius:12px;box-shadow:0 6px 20px rgba(2,6,23,0.06);padding:18px;}
    .pm-grid{display:flex;gap:12px;flex-wrap:wrap}
    .pm-box{flex:1 1 220px;padding:14px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.85));text-align:center;}
    .pm-box h2{margin:0;font-size:20px;color:var(--accent1)}
    .pm-box p{margin:4px 0 0;font-size:14px;color:var(--muted)}
    .chart-container{margin-top:20px;padding:14px;background:var(--card);border-radius:12px;box-shadow:0 6px 20px rgba(2,6,23,0.06);}
    .infographic{margin:20px auto;text-align:center;}
    .infographic img{max-width:90%;border-radius:12px;box-shadow:0 6px 20px rgba(2,6,23,0.06);}
    .section{padding:40px 18px;}
    .section h2{font-size:24px;margin-bottom:20px;color:var(--accent2);}
    .about-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:18px;}
    .member-card{text-align:center;background:var(--card);padding:14px;border-radius:12px;box-shadow:0 6px 20px rgba(2,6,23,0.06);}
    .member-card img{width:100px;height:100px;border-radius:50%;object-fit:cover;margin-bottom:10px;}
    footer{background:var(--accent1);color:#fff;padding:28px;text-align:center;border-top-left-radius:12px;border-top-right-radius:12px;}
    .whatsapp-btn{position:fixed;bottom:28px;right:28px;background:#25D366;color:#fff;border:none;padding:14px 18px;font-size:16px;border-radius:50px;cursor:pointer;box-shadow:0 6px 20px rgba(2,6,23,0.2);}
  </style>
</head>
<body>
  <header class="hero">
    <div class="container hero-inner">
      <div class="brand">
        <div class="logo">KB</div>
        <div>
          <h1>KB Pure Breath</h1>
          <p>Live Air Quality & Resources</p>
        </div>
      </div>
      <nav>
        <a href="#pm">PM Data</a>
        <a href="#infographic">Infographic</a>
        <a href="#prof">Prof Juliana</a>
        <a href="#about">About Us</a>
        <a href="#faq">FAQ</a>
      </nav>
    </div>
  </header>
  <main>
    <section class="card-row" id="pm">
      <div class="card">
        <h2>Particulate Matter & AQI</h2>
        <div class="pm-grid">
          <div class="pm-box">
            <h2 id="pm25">--</h2>
            <p>PM2.5 (μg/m³)</p>
          </div>
          <div class="pm-box">
            <h2 id="pm10">--</h2>
            <p>PM10 (μg/m³)</p>
          </div>
          <div class="pm-box">
            <h2 id="aqi">--</h2>
            <p>Air Quality Index</p>
          </div>
        </div>
        <div class="chart-container">
          <canvas id="pmChart" height="150"></canvas>
        </div>
        <p>Last Updated: <span id="lastUpdate">--</span></p>
      </div>
      <div class="card">
        <h2>Real-Time AQI</h2>
        <p id="realTimeAQI">Loading...</p>
      </div>
    </section>

    <section class="section" id="infographic">
      <h2>Infographic - Respiratory System & Particulate Matter</h2>
      <div class="infographic">
        <img src="https://www.researchgate.net/profile/Fiorella-Barraza/publication/321993233/figure/fig14/AS:574185194704903@1513907826653/Respiratory-tract-and-particulate-matter-PM-size-classification-Modified-from.png" alt="Respiratory Tract & PM">
      </div>
    </section>

    <section class="section" id="prof">
      <h2>Prof Juliana - Research</h2>
      <p><strong>Bio:</strong> Prof. Juliana is an environmental health expert at UPM focusing on air pollution and respiratory impacts.</p>
      <p><a href="https://www.tandfonline.com/doi/abs/10.1080/02786826.2025.2502492" target="_blank">Read her research</a></p>
    </section>

    <section class="section" id="about">
      <h2>About Us</h2>
      <div class="about-grid">
        <div class="member-card">
          <img src="iqbal.png" alt="Iqbal">
          <h3>Iqbal</h3>
          <p>+60179912306</p>
        </div>
        <div class="member-card">
          <img src="syakirullah.png" alt="Syakirullah">
          <h3>Syakirullah</h3>
          <p>+60172131363</p>
        </div>
        <div class="member-card">
          <img src="wan_zulkhairi.png" alt="Wan Zulkhairi">
          <h3>Wan Zulkhairi</h3>
          <p>+60145147998</p>
        </div>
        <div class="member-card">
          <img src="zhafri.png" alt="Zhafri">
          <h3>Zhafri</h3>
          <p>+60138487104</p>
        </div>
        <div class="member-card">
          <img src="zie_ain_balqis.png" alt="Zie Ain Balqis">
          <h3>Zie Ain Balqis</h3>
          <p>+60172370158</p>
        </div>
      </div>
    </section>

    <section class="section" id="faq">
      <h2>FAQ</h2>
      <p><strong>Q:</strong> What is PM2.5?<br><strong>A:</strong> Fine particulate matter that can penetrate lungs and affect health.</p>
      <p><strong>Q:</strong> How often is AQI updated?<br><strong>A:</strong> Every few minutes in real-time using IQAir API.</p>
    </section>
  </main>

  <footer>
    <p>© 2025 KB Pure Breath</p>
  </footer>

  <button class="whatsapp-btn" onclick="window.open('https://wa.me/18772241042','_blank')">WhatsApp Copilot</button>

  <script>
    const pm25El = document.getElementById('pm25');
    const pm10El = document.getElementById('pm10');
    const aqiEl = document.getElementById('aqi');
    const realTimeEl = document.getElementById('realTimeAQI');
    const lastUpdateEl = document.getElementById('lastUpdate');

    const pmChartCtx = document.getElementById('pmChart').getContext('2d');
    let pmChart = new Chart(pmChartCtx, {
      type: 'line',
      data: {labels: [], datasets:[
        {label:'PM2.5',data:[],borderColor:'var(--accent1)',backgroundColor:'rgba(43,182,182,0.2)'},
        {label:'PM10',data:[],borderColor:'var(--accent2)',backgroundColor:'rgba(74,160,230,0.2)'}
      ]},
      options:{responsive:true,animation:false,plugins:{legend:{position:'top'}}}
    });

    const API_KEY = 'ae042b2540f9d68b5f09af2ab8fa7b28b58ad821';
    async function fetchAQI(){
      try{
        const res = await fetch(`https://api.waqi.info/feed/kuala+lumpur/?token=${API_KEY}`);
        const data = await res.json();
        if(data.status==='ok'){
          const iaqi = data.data.iaqi;
          const now = new Date();
          pm25El.textContent = iaqi.pm25?iaqi.pm25.v:'--';
          pm10El.textContent = iaqi.pm10?iaqi.pm10.v:'--';
          aqiEl.textContent = data.data.aqi || '--';
          realTimeEl.textContent = `AQI: ${data.data.aqi} — ${data.data.dominentpol}`;
          lastUpdateEl.textContent = now.toLocaleString();

          pmChart.data.labels.push(now.getHours()+':'+now.getMinutes());
          pmChart.data.datasets[0].data.push(iaqi.pm25?iaqi.pm25.v:null);
          pmChart.data.datasets[1].data.push(iaqi.pm10?iaqi.pm10.v:null);
          if(pmChart.data.labels.length>20){
            pmChart.data.labels.shift();
            pmChart.data.datasets.forEach(ds=>ds.data.shift());
          }
          pmChart.update();
        }
      }catch(e){console.error(e);}
    }
    fetchAQI();
    setInterval(fetchAQI, 300000); // every 5 min
  </script>
</body>
</html>
